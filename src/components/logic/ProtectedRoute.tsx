import { useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { useSelector } from 'react-redux';
import { userValue } from '@/store/slices/user';

import { ProtectedElementProps } from '@/types'; // Assurez-vous d'ajuster le chemin d'accÃ¨s en fonction de l'emplacement de votre fichier

export function ProtectedElement({ children }: ProtectedElementProps) {
  const { user } = useSelector(userValue);
  const navigate = useNavigate();

  useEffect(() => {
    if (!user.isConnected) {
      console.log('not authenticated');
      navigate('/');
    }
  }, [user, navigate])

  return (
    <>
      {user.isConnected && children}
    </>
  );
}
export default ProtectedElement;
